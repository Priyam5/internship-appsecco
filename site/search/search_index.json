{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Introduction Starting up with devsecops.","title":"Introduction"},{"location":"#introduction","text":"Starting up with devsecops.","title":"Introduction"},{"location":"Jenkins-installation/","text":"Jenkins Installation Jenkin's installation is being done in the Jenkins VM we created. What is Jenkins? Jenkins is a self-contained, open source automation server which can be used to automate all sorts of tasks related to building, testing,and delivering or deploying software . Jenkins can be installed through native system packages, Docker, or even run standalone by any machine with a Java Runtime Environment (JRE) installed. Prerequisite: Your VM should be installed with Ubuntu 18.04 server for the jenkins installation. Java 8 installed, installing specific versions of OpenJDK on Ubuntu 18.04. We begin with the installation steps of Jenkins. STEP 1 - Installing Jenkins First, add the repository key to the system: $ wget -q -O - https://pkg.jenkins.io/debian-stable/jenkins.io.key | sudo apt-key add - The system will return OK Next, append the Debian package repository address $ sudo sh -c 'echo deb https://pkg.jenkins.io/debian-stable binary/ > \\ /etc/apt/sources.list.d/jenkins.list' $ sudo apt update Finally, install Jenkins ans its dependencies: $ sudo apt install jenkins Step 2 \u2014 Starting Jenkins Let\u2019s start Jenkins using systemctl: $ sudo systemctl start jenkins OR $ sudo service jenkins start Since systemctl doesn\u2019t display output, you can use its status command to verify that Jenkins started successfully: $ sudo systemctl status jenkins OR $ sudo service jenkins start If it's successfully installed, the beginning of the output should show that the service is active and configured to start for boot. The Jenkins is running now. To reach it from a web browser let's adjust our firewall rules to complete the initial setup. Step 3 - Opening the Firewall By default, Jenkins runs on port 8080, so let\u2019s open that port using ufw(Uncomplicated Firewall ): $ sudo ufw allow 8080 To check the ufw's status confirm the new rules: $ sudo ufw status Note: If the status shows inactive. Then enable the firewall by following the following commands that will OpenSSH $ sudo ufw allow OpenSSH $ sudo ufw enable You will see the output as shown: Step 4 \u2014 Setting Up Jenkins Find the IP of your system: $ ifconfig To setup your installation, in the browser enter http://your_server_ip_or_domain:8080 The Unlock Jenkins screen opens,which will display where our initial password would be stored. In the terminal window use the cat command to display the password: $ sudo cat /var/lib/jenkins/secrets/initialAdminPassword The 32-character alphanumeric password is displayed in the terminal, paste it into the Administrator password field, then click Continue . Installing suggested plugins We\u2019ll click the Install suggested plugins option, which will immediately begin the installation process as shown: Once the installation completes, the screen opens to Create First Admin User , Fill the required details. click on Save and Continue or you can also select Continue as admin to skip the above step and continue as admin using the initial password we used above. The Instance Configuration page will be displayed which will ask you to confirm the preferred URL for your Jenkins instance. Confirm either the domain name for your server or your server\u2019s IP address. Confirm the appropriate information, click Save and Finish . You will see a confirmation page confirming that Jenkins is Ready! Click Start using Jenkins to visit the main Jenkins dashboard. Here we finish the installation of Jenkins in our VM. Errors resolved There were few errors which I faced during the installation. GPG key error: A LTS (Long-Term Support) release is chosen every 12 weeks from the stream of regular releases as the stable release for that time period. The link gets updated, it gives GPG key error so find the latest link from https://www.jenkins.io/doc/book/installing/#debianubuntu under the Debian/Ubuntu section. Certificate verification failed To resolve this pass --no-check-certificate as shown below: $ wget https://ftp.yz.yamagata-u.sc.jp/pub/misc/jenkins/debian-stable/jenkins_2.235_all.deb --no-check-certificate Again reinstall the debian file of jenkins: $ sudo dpkg -i jenkins_2.235.5_all.deb To fix the broken packages run: $ sudo apt install -f Now again check the status of jenkins: $ sudo service jenkins status It will show its active now. Invalid user or password Once you are logged in successfully into Jenkins VM (Virtual Machine). Go to directory Jenkins and open file config.xml . $ sudo nano /var/lib/Jenkins/config.xml This command will open config.xml file as below: Go to tag and check value, it will be true . You need to update tag value to false as below. Save this file. Once you are done with updating value in config.xml file. Restart Jenkins service. $ sudo service jenkins restart It will show the status active . Now open Jenkins URL. It will go to dashboard direct. No credentials required. You can see after opening dashboard Logged in user section will be blank. As it is now Anonymous user . To reset all security options, go to Jenkins -> Manage Jenkins option in left hand side option lists. Go to Configure Global Security option Enable Enable Security option. In Security Realm Option Select Jenkins own database option. Unselect / Untick Allow users to sign up option under Jenkins own database option. In Authorization section do following changes : Select Logged-in users can do anything option (Tick). Unselect / Untick Allow anonymous read access option under Logged-in users can do anything option. Click Save button. You will be redirected to Create First Admin User page once you click on Save button. Once you fill all the details, click on Create First Admin User button You will be ready with new Admin users to login again into Jenkins portal. References Installing Jenkins Ubuntu Server 18.04 Installation Installing JDK","title":"Jenkins"},{"location":"Jenkins-installation/#jenkins-installation","text":"Jenkin's installation is being done in the Jenkins VM we created. What is Jenkins? Jenkins is a self-contained, open source automation server which can be used to automate all sorts of tasks related to building, testing,and delivering or deploying software . Jenkins can be installed through native system packages, Docker, or even run standalone by any machine with a Java Runtime Environment (JRE) installed.","title":"Jenkins Installation"},{"location":"Jenkins-installation/#prerequisite","text":"Your VM should be installed with Ubuntu 18.04 server for the jenkins installation. Java 8 installed, installing specific versions of OpenJDK on Ubuntu 18.04. We begin with the installation steps of Jenkins.","title":"Prerequisite:"},{"location":"Jenkins-installation/#step-1-installing-jenkins","text":"First, add the repository key to the system: $ wget -q -O - https://pkg.jenkins.io/debian-stable/jenkins.io.key | sudo apt-key add - The system will return OK Next, append the Debian package repository address $ sudo sh -c 'echo deb https://pkg.jenkins.io/debian-stable binary/ > \\ /etc/apt/sources.list.d/jenkins.list' $ sudo apt update Finally, install Jenkins ans its dependencies: $ sudo apt install jenkins","title":"STEP 1 - Installing Jenkins"},{"location":"Jenkins-installation/#step-2-starting-jenkins","text":"Let\u2019s start Jenkins using systemctl: $ sudo systemctl start jenkins OR $ sudo service jenkins start Since systemctl doesn\u2019t display output, you can use its status command to verify that Jenkins started successfully: $ sudo systemctl status jenkins OR $ sudo service jenkins start If it's successfully installed, the beginning of the output should show that the service is active and configured to start for boot. The Jenkins is running now. To reach it from a web browser let's adjust our firewall rules to complete the initial setup.","title":"Step 2 \u2014 Starting Jenkins"},{"location":"Jenkins-installation/#step-3-opening-the-firewall","text":"By default, Jenkins runs on port 8080, so let\u2019s open that port using ufw(Uncomplicated Firewall ): $ sudo ufw allow 8080 To check the ufw's status confirm the new rules: $ sudo ufw status Note: If the status shows inactive. Then enable the firewall by following the following commands that will OpenSSH $ sudo ufw allow OpenSSH $ sudo ufw enable You will see the output as shown:","title":"Step 3 - Opening the Firewall"},{"location":"Jenkins-installation/#step-4-setting-up-jenkins","text":"Find the IP of your system: $ ifconfig To setup your installation, in the browser enter http://your_server_ip_or_domain:8080 The Unlock Jenkins screen opens,which will display where our initial password would be stored. In the terminal window use the cat command to display the password: $ sudo cat /var/lib/jenkins/secrets/initialAdminPassword The 32-character alphanumeric password is displayed in the terminal, paste it into the Administrator password field, then click Continue . Installing suggested plugins We\u2019ll click the Install suggested plugins option, which will immediately begin the installation process as shown: Once the installation completes, the screen opens to Create First Admin User , Fill the required details. click on Save and Continue or you can also select Continue as admin to skip the above step and continue as admin using the initial password we used above. The Instance Configuration page will be displayed which will ask you to confirm the preferred URL for your Jenkins instance. Confirm either the domain name for your server or your server\u2019s IP address. Confirm the appropriate information, click Save and Finish . You will see a confirmation page confirming that Jenkins is Ready! Click Start using Jenkins to visit the main Jenkins dashboard. Here we finish the installation of Jenkins in our VM.","title":"Step 4 \u2014 Setting Up Jenkins"},{"location":"Jenkins-installation/#errors-resolved","text":"There were few errors which I faced during the installation. GPG key error: A LTS (Long-Term Support) release is chosen every 12 weeks from the stream of regular releases as the stable release for that time period. The link gets updated, it gives GPG key error so find the latest link from https://www.jenkins.io/doc/book/installing/#debianubuntu under the Debian/Ubuntu section. Certificate verification failed To resolve this pass --no-check-certificate as shown below: $ wget https://ftp.yz.yamagata-u.sc.jp/pub/misc/jenkins/debian-stable/jenkins_2.235_all.deb --no-check-certificate Again reinstall the debian file of jenkins: $ sudo dpkg -i jenkins_2.235.5_all.deb To fix the broken packages run: $ sudo apt install -f Now again check the status of jenkins: $ sudo service jenkins status It will show its active now. Invalid user or password Once you are logged in successfully into Jenkins VM (Virtual Machine). Go to directory Jenkins and open file config.xml . $ sudo nano /var/lib/Jenkins/config.xml This command will open config.xml file as below: Go to tag and check value, it will be true . You need to update tag value to false as below. Save this file. Once you are done with updating value in config.xml file. Restart Jenkins service. $ sudo service jenkins restart It will show the status active . Now open Jenkins URL. It will go to dashboard direct. No credentials required. You can see after opening dashboard Logged in user section will be blank. As it is now Anonymous user . To reset all security options, go to Jenkins -> Manage Jenkins option in left hand side option lists. Go to Configure Global Security option Enable Enable Security option. In Security Realm Option Select Jenkins own database option. Unselect / Untick Allow users to sign up option under Jenkins own database option. In Authorization section do following changes : Select Logged-in users can do anything option (Tick). Unselect / Untick Allow anonymous read access option under Logged-in users can do anything option. Click Save button. You will be redirected to Create First Admin User page once you click on Save button. Once you fill all the details, click on Create First Admin User button You will be ready with new Admin users to login again into Jenkins portal.","title":"Errors resolved"},{"location":"Jenkins-installation/#references","text":"Installing Jenkins Ubuntu Server 18.04 Installation Installing JDK","title":"References"},{"location":"Ubuntu-server-VM-setup/","text":"Setting up VM In this section we will we setting up two VMs: 1). For jenkins deployment. 2). For production Server to deploy the application (Odoo) on the server Begin by creating a Virtual machine for Jenkins deployment. STEPS: Click on the NEW icon to create a new machine. Create Virtual Machine window will open as shown in the picture. Configure * The Name Jenkins-infra. * The Type to Linux. * Version to Ubuntu (64-bit). * Allocate memory size. Click on Create. Create Virtual Hard Disk will open. Allocate the memory. We will be setting the disk type to VDI Select storage on physical hard disk Dynamically allocated . Click create. And that\u2019s it! Your VM is ready for Ubuntu 18.04 installation. Now download the server image 18.04 on VirtualBox as it is an LTS (Long Term Support) version which is a desirable feature for a CI pipeline. Follow the link https://releases.ubuntu.com/18.04/ What is LTS? It is a product lifecycle management policy in which a stable release of computer software is maintained for a longer period of time than the standard edition. The term is typically reserved for open-source software. Difference between Desktop Image and Server Image Desktop image is GUI(Graphical User Interface) based and Server Image is CLI(Command Line Interface) based. Size of Desktop Image is (2.2 GB) and size of Server Image is (990.9 MB). So choose according to your system supports while running two VM's. Now begin with the installation of Ubuntu Server 18.04.5 Open the VM box and select the VM on which you want to install the server. click on Start When the window Select start-up disk window opens click on the folder. A new window opens Optical Disk Selector . Select the server image and click Choose Your server image is now selected so now click on Start As you click on Start Jenkins VM start's running. The installer is designed to be easy to use and have sensible defaults so for a first install you can mostly just accept the defaults for the most straightforward install. Let's begin with installation: Language selection This screen selects the language and the default language for the installed system. Press the Enter button. Keyboard configuration By default the English (US) layout and variant keyboard is selected. Press the Enter button. Network Configuration of the network is done from here and leave it default if no changes. Select Done and press Enter . Configure proxy The proxy configured on this screen is used for accessing the package repository and the snap store both in the installer environment and in the installed system. Mirror The installer will attempt to use geoip to look up an appropriate default package mirror for your location. If you want or need to use a different mirror, enter its URL here. Guided Storage Configuration I kept the storage default and selected Done . Press Enter button. Storage Configuration Once the storage configuration is confirmed, the install begins in the background. Select continue. Press Enter to begin the installation. Profile Setup Fill the required details. Select Done and press the Enter button. SSH Select the option Install OpenSSH server because by default Ubuntu does not have SSH server installed. It has only SSH client installed. It is very common practice for administrators to SSH into the Ubuntu server so it's better to install the OpenSSH server here only with one click of a button. Select Done and press the Enter button. Snaps If a network connection is enabled, a selection of snaps that are useful in a server environment are presented and can be selected for installation. After that, select Done and press Enter . Installation logs Once the installation is complete, select Reboot . Press Enter . Similarly the second VM can be installed. Here we finish with the installation of Ubuntu 18.04.05(LTS) server.","title":"Setup"},{"location":"Ubuntu-server-VM-setup/#setting-up-vm","text":"In this section we will we setting up two VMs: 1). For jenkins deployment. 2). For production Server to deploy the application (Odoo) on the server Begin by creating a Virtual machine for Jenkins deployment. STEPS: Click on the NEW icon to create a new machine. Create Virtual Machine window will open as shown in the picture. Configure * The Name Jenkins-infra. * The Type to Linux. * Version to Ubuntu (64-bit). * Allocate memory size. Click on Create. Create Virtual Hard Disk will open. Allocate the memory. We will be setting the disk type to VDI Select storage on physical hard disk Dynamically allocated . Click create. And that\u2019s it! Your VM is ready for Ubuntu 18.04 installation. Now download the server image 18.04 on VirtualBox as it is an LTS (Long Term Support) version which is a desirable feature for a CI pipeline. Follow the link https://releases.ubuntu.com/18.04/ What is LTS? It is a product lifecycle management policy in which a stable release of computer software is maintained for a longer period of time than the standard edition. The term is typically reserved for open-source software. Difference between Desktop Image and Server Image Desktop image is GUI(Graphical User Interface) based and Server Image is CLI(Command Line Interface) based. Size of Desktop Image is (2.2 GB) and size of Server Image is (990.9 MB). So choose according to your system supports while running two VM's.","title":"Setting up VM"},{"location":"Ubuntu-server-VM-setup/#now-begin-with-the-installation-of-ubuntu-server-18045","text":"Open the VM box and select the VM on which you want to install the server. click on Start When the window Select start-up disk window opens click on the folder. A new window opens Optical Disk Selector . Select the server image and click Choose Your server image is now selected so now click on Start As you click on Start Jenkins VM start's running. The installer is designed to be easy to use and have sensible defaults so for a first install you can mostly just accept the defaults for the most straightforward install. Let's begin with installation: Language selection This screen selects the language and the default language for the installed system. Press the Enter button. Keyboard configuration By default the English (US) layout and variant keyboard is selected. Press the Enter button. Network Configuration of the network is done from here and leave it default if no changes. Select Done and press Enter . Configure proxy The proxy configured on this screen is used for accessing the package repository and the snap store both in the installer environment and in the installed system. Mirror The installer will attempt to use geoip to look up an appropriate default package mirror for your location. If you want or need to use a different mirror, enter its URL here. Guided Storage Configuration I kept the storage default and selected Done . Press Enter button. Storage Configuration Once the storage configuration is confirmed, the install begins in the background. Select continue. Press Enter to begin the installation. Profile Setup Fill the required details. Select Done and press the Enter button. SSH Select the option Install OpenSSH server because by default Ubuntu does not have SSH server installed. It has only SSH client installed. It is very common practice for administrators to SSH into the Ubuntu server so it's better to install the OpenSSH server here only with one click of a button. Select Done and press the Enter button. Snaps If a network connection is enabled, a selection of snaps that are useful in a server environment are presented and can be selected for installation. After that, select Done and press Enter . Installation logs Once the installation is complete, select Reboot . Press Enter . Similarly the second VM can be installed. Here we finish with the installation of Ubuntu 18.04.05(LTS) server.","title":"Now begin with the installation of Ubuntu Server 18.04.5"}]}